<div class="col-md-12" ui-view>
  <div ui-view='show'></div>
  <div ui-view='assign'>
    <section class="col-md-5" ng-show="assigned">
      <article class="panel panel-primary" ng-repeat="(keyTheme, theme) in assigned">
        <div class="panel-heading">
          <h3 class="panel-title">{{ theme.name }}</h3>
        </div>
        <div class="panel-body">
          <div ng-repeat="(keyAssign, assign) in theme.assign_solicitude">
            <!-- <h6>- {{ assign.area_means.area.name }}</h6> -->
            <ul class="padding-none">
              <li class="list-none">
                <span class="button-status" ng-class="statusSelect(assign.status)" uib-tooltip="{{assign.status}}"></span>
                <!-- <span uib-tooltip="{{assign.area_means.area.director.full_name}}"> -->
                <span uib-tooltip="{{assign.area_means.area.director.full_name}}">
                  {{ assign.area_means.area.name }}
                  <strong  ng-if="assign.area_means.means.id != 1">
                    ({{ assign.area_means.means.name }})
                  </strong>
                </span>
                <div ng-if="can('change-state-assign-solicitude')" class="float-right" style="margin-top: -3px;" ng-class="disable(assign.status)">
                  <a class="btn btn-xs btn-warning glyphicon glyphicon-refresh" uib-tooltip="Act. Estado" ng-init="isCollapsed[keyTheme][keyAssign] = true" ng-click="isCollapsed[keyTheme][keyAssign] = !isCollapsed[keyTheme][keyAssign]"></a>
                </div>
                <div ng-if="can('change-state-assign-solicitude')" uib-collapse="isCollapsed[keyTheme][keyAssign]">
                  <div class="well well-sm margin-none">
                    <label for="select" class="control-label" ><strong>Estado:</strong></label>
                    <select class="align-middle" name="status" id="status" ng-init="newStatus = assign.status" ng-model="newStatus" ng-required="true" style="width: 120px;">
                      <option value="Enviado">Enviado</option>
                      <!-- <option value="Leído">Leído</option> -->
                      <option value="Aceptado">Aceptado</option>
                      <option value="Rechazado">Rechazado</option>
                      <option value="Atendido">Atendido</option>
                    </select>
                    <div ng-if="showComment(newStatus)">
                      <label for="observation" class="control-label display-block"><strong>Observación:</strong></label>
                      <textarea name="observation" id="observation" cols="51" rows="2" class="display-block" resisable="false" ng-model="observation" ng-required="true"></textarea>
                    </div>
                    <button class="btn btn-primary btn-xs" ng-click="saveUpdate(keyTheme, keyAssign, newStatus, assign.id)">Actualizar</button>
                  </div>
                </div>
                <section ng-if="showComment(assign.status)">
                  <blockquote>
                    <small>Rechazado:</small>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</p>
                  </blockquote>
                </section>
              </li>
            </ul>
          </div>
        </div>
      </article>
    </section>
    <section class="col-md-5" ng-show="notAssigned">
      <h3 class="align-center">¡Esta solicitud no posee asignaciones!</h3>
    </section>
  </div>
</div>